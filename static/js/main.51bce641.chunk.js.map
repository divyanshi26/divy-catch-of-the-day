{"version":3,"sources":["components/Header.js","helpers.js","components/Order.js","components/AddFishForm.js","base.js","components/Inventory.js","components/Fish.js","sample-fishes.js","components/App.js","components/StorePicker.js","components/NotFound.js","index.js"],"names":["Header","props","className","tagline","formatPrice","cents","toLocaleString","style","currency","rando","arr","Math","floor","random","length","getFunName","adjectives","Order","renderOrder","bind","key","fish","this","fishes","count","order","removeButton","onClick","removeFromOrder","status","name","price","orderIds","Object","keys","total","reduce","prevTotal","map","React","Component","AddFishForm","event","preventDefault","console","log","value","desc","image","addFish","fishForm","reset","ref","input","onSubmit","e","createFish","type","placeholder","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","base","Rebase","createClass","database","Inventory","renderLogin","renderInventory","authenticate","logout","authHandler","handleChange","state","uid","owner","auth","onAuthStateChanged","user","updatedFish","target","updateFish","provider","signInWithPopup","then","signOut","setState","authData","storeId","storeRef","once","snapshot","data","val","set","googleProvider","GoogleAuthProvider","githubProvider","GithubAuthProvider","onChange","removeFish","loadSamples","Fish","index","details","isAvailable","buttonText","src","alt","addToOrder","disabled","fish1","fish2","fish3","fish4","fish5","fish6","fish7","fish8","fish9","App","syncState","match","params","context","localStorageRef","localStorage","getItem","JSON","parse","removeBinding","nextProps","nextState","setItem","stringify","timestamp","Date","now","sampleFishes","StorePicker","goToStore","storeInput","history","push","required","defaultValue","NotFound","Root","window","location","pathname","split","BrowserRouter","basename","Switch","Route","exact","path","component","render","document","querySelector"],"mappings":"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","file":"static/js/main.51bce641.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className=\"top\">\r\n\t\t\t<h1>\r\n\t\t\t\tCatch\r\n\t\t\t\t<span className=\"ofThe\">\r\n\t\t\t\t\t<span className=\"of\">of</span>\r\n\t\t\t\t\t<span className=\"the\">the</span>\r\n\t\t\t\t</span>\r\n\t\t\t\tDay\r\n\t\t\t</h1>\r\n\t\t\t<h3 className=\"tagline\"><span>{props.tagline}</span></h3>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nHeader.propTypes = {\r\n\ttagline: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Header;","export function formatPrice(cents) {\r\n  return (cents / 100).toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\"\r\n  });\r\n}\r\n\r\nexport function rando(arr) {\r\n  return arr[Math.floor(Math.random() * arr.length)];\r\n}\r\n\r\nexport function slugify(text) {\r\n  return text\r\n    .toString()\r\n    .toLowerCase()\r\n    .replace(/\\s+/g, \"-\")\r\n    .replace(/[^\\w-]+/g, \"\")\r\n    .replace(/--+/g, \"-\")\r\n    .replace(/^-+/, \"\")\r\n    .replace(/-+$/, \"\");\r\n}\r\n\r\nexport function getFunName() {\r\n  const adjectives = [\r\n    \"adorable\",\r\n    \"beautiful\",\r\n    \"clean\",\r\n    \"drab\",\r\n    \"elegant\",\r\n    \"fancy\",\r\n    \"glamorous\",\r\n    \"handsome\",\r\n    \"long\",\r\n    \"magnificent\",\r\n    \"old-fashioned\",\r\n    \"plain\",\r\n    \"quaint\",\r\n    \"sparkling\",\r\n    \"ugliest\",\r\n    \"unsightly\",\r\n    \"angry\",\r\n    \"bewildered\",\r\n    \"clumsy\",\r\n    \"defeated\",\r\n    \"embarrassed\",\r\n    \"fierce\",\r\n    \"grumpy\",\r\n    \"helpless\",\r\n    \"itchy\",\r\n    \"jealous\",\r\n    \"lazy\",\r\n    \"mysterious\",\r\n    \"nervous\",\r\n    \"obnoxious\",\r\n    \"panicky\",\r\n    \"repulsive\",\r\n    \"scary\",\r\n    \"thoughtless\",\r\n    \"uptight\",\r\n    \"worried\"\r\n  ];\r\n\r\n  const nouns = [\r\n    \"women\",\r\n    \"men\",\r\n    \"children\",\r\n    \"teeth\",\r\n    \"feet\",\r\n    \"people\",\r\n    \"leaves\",\r\n    \"mice\",\r\n    \"geese\",\r\n    \"halves\",\r\n    \"knives\",\r\n    \"wives\",\r\n    \"lives\",\r\n    \"elves\",\r\n    \"loaves\",\r\n    \"potatoes\",\r\n    \"tomatoes\",\r\n    \"cacti\",\r\n    \"foci\",\r\n    \"fungi\",\r\n    \"nuclei\",\r\n    \"syllabuses\",\r\n    \"analyses\",\r\n    \"diagnoses\",\r\n    \"oases\",\r\n    \"theses\",\r\n    \"crises\",\r\n    \"phenomena\",\r\n    \"criteria\",\r\n    \"data\"\r\n  ];\r\n\r\n  return `${rando(adjectives)}-${rando(adjectives)}-${rando(nouns)}`;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { formatPrice } from '../helpers';\r\n\r\nclass Order extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.renderOrder = this.renderOrder.bind(this);\r\n\t}\r\n\r\n\trenderOrder(key) {\r\n\t\tconst fish = this.props.fishes[key];\r\n\t\tconst count = this.props.order[key];\r\n\t\tconst removeButton = <button onClick={() => this.props.removeFromOrder(key)}>&times;</button>\r\n\r\n\t\tif(!fish || fish.status === \"unavailable\") {\r\n\t\t\treturn <li key={key}>Sorry, {fish ? fish.name : \"fish\"} is no longer available! {removeButton}</li>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<li key={key}>\r\n\t\t\t\t<span>{count}lbs {fish.name} {removeButton}</span>\r\n\t\t\t\t<span className=\"price\">{formatPrice(count * fish.price)}</span>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst orderIds = Object.keys(this.props.order);\r\n\t\tconst total = orderIds.reduce((prevTotal, key) => {\r\n\t\t\tconst fish = this.props.fishes[key];\r\n\t\t\tconst count = this.props.order[key];\r\n\t\t\tconst isAvailable = fish && fish.status === 'available';\r\n\t\t\tif(isAvailable) {\r\n\t\t\t\treturn prevTotal + (count * fish.price || 0)\r\n\t\t\t}\r\n\t\t\treturn prevTotal\r\n\t\t}, 0);\r\n\t\treturn (\r\n\t\t\t<div className=\"order-wrap\">\r\n\t\t\t\t<h2>Your Order</h2>\r\n\t\t\t\t<ul className=\"order\">\r\n\t\t\t\t\t{ orderIds.map(this.renderOrder) }\r\n\t\t\t\t\t<li className=\"total\">\r\n\t\t\t\t\t\t<strong>Total:</strong>\r\n\t\t\t\t\t\t<strong>{formatPrice(total)}</strong>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nOrder.propTypes = {\r\n\tfishes: PropTypes.object.isRequired,\r\n\torder: PropTypes.object.isRequired,\r\n\tremoveFromOrder: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Order;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass AddFishForm extends React.Component {\r\n\tcreateFish(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(\"Gonna make some fish!\");\r\n\t\tconst fish = {\r\n\t\t\tname: this.name.value,\r\n\t\t\tprice: this.price.value,\r\n\t\t\tstatus: this.status.value,\r\n\t\t\tdesc: this.desc.value,\r\n\t\t\timage: this.image.value,\r\n\t\t}\r\n\t\tconsole.log(fish);\r\n\t\tthis.props.addFish(fish);\r\n\t\tthis.fishForm.reset(0);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form ref={(input) => this.fishForm = input} className=\"fish-edit\" onSubmit={(e) => {this.createFish(e)}}>\r\n\t\t\t\t<input ref={(input) => this.name = input} type=\"text\" placeholder=\"Fish Name\" />\r\n\t\t\t\t<input ref={(input) => this.price = input} type=\"text\" placeholder=\"Fish Price\" />\r\n\t\t\t\t<select ref={(input) => this.status = input}>\r\n\t\t\t\t\t<option value=\"available\">Fresh!</option>\r\n\t\t\t\t\t<option value=\"unavailable\">Sold Out!</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<textarea ref={(input) => this.desc = input} type=\"text\" placeholder=\"Fish Desc\"></textarea>\r\n\t\t\t\t<input ref={(input) => this.image = input} type=\"text\" placeholder=\"Fish Image\" />\r\n\t\t\t\t<button type=\"submit\">+ Add Item</button>\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAddFishForm.propTypes = {\r\n\taddFish: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AddFishForm;","import Rebase from 're-base';\r\nimport firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n\tapiKey: \"AIzaSyB3EpHhQ0WZRV2CrLg2bI2ap5qGnXPUXHg\",\r\n    authDomain: \"divy-catch-of-the-day.firebaseapp.com\",\r\n    databaseURL: \"https://divy-catch-of-the-day.firebaseio.com\"\r\n});\r\n\r\nconst base = Rebase.createClass(firebaseApp.database());\r\n\r\nexport { firebaseApp };\r\nexport default base;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport firebase from 'firebase';\r\n\r\nimport AddFishForm from './AddFishForm';\r\nimport base from '../base';\r\n\r\nclass Inventory extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.renderLogin = this.renderLogin.bind(this);\r\n\t\tthis.renderInventory = this.renderInventory.bind(this);\r\n\t\tthis.authenticate = this.authenticate.bind(this);\r\n\t\tthis.logout = this.logout.bind(this);\r\n\t\tthis.authHandler = this.authHandler.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tuid: null,\r\n\t\t\towner: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tfirebase.auth().onAuthStateChanged(user => {\r\n\t\t\tif(user) {\r\n\t\t\t\tthis.authHandler({ user });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange(e, key) {\r\n\t\tconst fish = this.props.fishes[key];\r\n\t\t// take a copy of that fish and update the copy with new data\r\n\t\tconst updatedFish = {\r\n\t\t\t...fish,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t};\r\n\t\tthis.props.updateFish(key, updatedFish);\r\n\t}\r\n\r\n\tauthenticate(provider) {\r\n\t\tfirebase.auth().signInWithPopup(provider).then(this.authHandler);\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tconsole.log(\"logging out...\");\r\n\t\tfirebase.auth().signOut();\r\n\t\tthis.setState({ uid: null });\r\n\t}\r\n\r\n\tauthHandler(authData) {\r\n\t\tconst storeId = this.props.storeId;\r\n\r\n\t\t// console.log(authData.user.uid);\r\n\r\n\t\t// get store ref\r\n\t\tconst storeRef = firebase.database().ref(storeId);\r\n\r\n\t\t// query firebase once for store data\r\n\t\tstoreRef.once('value', (snapshot) => {\r\n\t\t\tconst data = snapshot.val() || {};\r\n\r\n\t\t\t// claim as own if no owner exists\r\n\t\t\tif(!data.owner) {\r\n\t\t\t\tstoreRef.set({\r\n\t\t\t\t\towner: authData.user.uid\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tuid: authData.user.uid,\r\n\t\t\t\towner: data.owner || authData.user.uid\r\n\t\t\t});\r\n\t\t});\r\n\t\t// console.log(authData);\r\n\t}\r\n\r\n\trenderLogin() {\r\n\t\tconst googleProvider = new firebase.auth.GoogleAuthProvider();\r\n\t\tconst githubProvider = new firebase.auth.GithubAuthProvider();\r\n\t\treturn(\r\n\t\t\t<nav className=\"login\">\r\n\t\t\t\t<h2>Inventory</h2>\r\n\t\t\t\t<button className=\"facebook\" onClick={() => this.authenticate(googleProvider)}>Log In With Google</button>\r\n\t\t\t\t<button className=\"github\" onClick={() => this.authenticate(githubProvider)}>Log In With Github</button>\r\n\t\t\t</nav>\r\n\t\t)\r\n\t}\r\n\r\n\trenderInventory(key) {\r\n\t\tconst fish = this.props.fishes[key];\r\n\t\treturn (\r\n\t\t\t<div className=\"fish-edit\" key={key}>\r\n\t\t\t\t<input type=\"text\" name=\"name\" value={fish.name} placeholder=\"Fish Name\" onChange={(e) => {this.handleChange(e, key)}} />\r\n\t\t\t\t<input type=\"text\" name=\"price\" value={fish.price} placeholder=\"Fish Price\" onChange={(e) => {this.handleChange(e, key)}} />\r\n\t\t\t\t<select type=\"text\" name=\"status\" value={fish.status} placeholder=\"Fish Status\" onChange={(e) => {this.handleChange(e, key)}} >\r\n\t\t\t\t\t<option value=\"available\">Fresh!</option>\r\n\t\t\t\t\t<option value=\"unavailable\">Sold Out!</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<textarea type=\"text\" name=\"desc\" value={fish.desc} placeholder=\"Fish Desc\" onChange={(e) => {this.handleChange(e, key)}}></textarea>\r\n\t\t\t\t<input type=\"text\" name=\"image\" value={fish.image} placeholder=\"Fish Image\" onChange={(e) => {this.handleChange(e, key)}} />\r\n\t\t\t\t<button onClick={() => this.props.removeFish(key)}>Remove Fish</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst logout = <button onClick={this.logout}>Log Out!</button>\r\n\r\n\t\t// check if they are not logged in at all\r\n\t\tif(!this.state.uid) {\r\n\t\t\treturn <div>{this.renderLogin()}</div>\r\n\t\t}\r\n\r\n\t\t// check of they are the owner of the current store\r\n\t\tif(this.state.uid !== this.state.owner) {\r\n\t\t\treturn(\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Sorry you are not the owner of this store!</p>\r\n\t\t\t\t\t{logout}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Inventory</h2>\r\n\t\t\t\t{logout}\r\n\t\t\t\t<button onClick={this.props.loadSamples}>Load Sample Fishes</button>\r\n\t\t\t\t<AddFishForm addFish={this.props.addFish}/>\r\n\t\t\t\t{\r\n\t\t\t\t\tObject\r\n\t\t\t\t\t\t.keys(this.props.fishes)\r\n\t\t\t\t\t\t.map(this.renderInventory)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nInventory.propTypes = {\r\n\tfishes: PropTypes.object.isRequired,\r\n\taddFish: PropTypes.func.isRequired,\r\n\tupdateFish: PropTypes.func.isRequired,\r\n\tremoveFish: PropTypes.func.isRequired,\r\n\tloadSamples: PropTypes.func.isRequired,\r\n\tstoreId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Inventory;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatPrice } from '../helpers'\r\n\r\nclass Fish extends React.Component {\r\n\trender() {\r\n\t\t\r\n\t\tconst key = this.props.index;\r\n\t\tconst { details } = this.props;\r\n\t\tconst isAvailable = details.status === 'available';\r\n\t\tconst buttonText = isAvailable ? \"Add To Order\" : \"Sold Out!\";\r\n\r\n\t\treturn (\r\n\t\t\t<li className=\"menu-fish\">\r\n\t\t\t\t<img src={details.image} alt={details.name} />\r\n\t\t\t\t<h3 className=\"fish-name\">\r\n\t\t\t\t\t{details.name}\r\n\t\t\t\t\t<span className=\"price\">{formatPrice(details.price)}</span>\r\n\t\t\t\t</h3>\r\n\t\t\t\t<p>{details.desc}</p>\r\n\t\t\t\t<button onClick={() => this.props.addToOrder(key)} disabled={!isAvailable}>{buttonText}</button>\r\n\t\t\t</li>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFish.propTypes = {\r\n\tindex: PropTypes.string.isRequired,\r\n\tdetails: PropTypes.object.isRequired,\r\n\taddToOrder: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Fish;","// This is just some sample data so you don't have to think of your own!\r\nconst fishes = {\r\n  fish1: {\r\n    name: \"Pacific Halibut\",\r\n    image: \"/images/hali.jpg\",\r\n    desc:\r\n      \"Everyoneâ€™s favorite white fish. We will cut it to the size you need and ship it.\",\r\n    price: 1724,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish2: {\r\n    name: \"Lobster\",\r\n    image: \"/images/lobster.jpg\",\r\n    desc:\r\n      \"These tender, mouth-watering beauties are a fantastic hit at any dinner party.\",\r\n    price: 3200,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish3: {\r\n    name: \"Sea Scallops\",\r\n    image: \"/images/scallops.jpg\",\r\n    desc:\r\n      \"Big, sweet and tender. True dry-pack scallops from the icey waters of Alaska. About 8-10 per pound\",\r\n    price: 1684,\r\n    status: \"unavailable\"\r\n  },\r\n\r\n  fish4: {\r\n    name: \"Mahi Mahi\",\r\n    image: \"/images/mahi.jpg\",\r\n    desc:\r\n      \"Lean flesh with a mild, sweet flavor profile, moderately firm texture and large, moist flakes. \",\r\n    price: 1129,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish5: {\r\n    name: \"King Crab\",\r\n    image: \"/images/crab.jpg\",\r\n    desc:\r\n      \"Crack these open and enjoy them plain or with one of our cocktail sauces\",\r\n    price: 4234,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish6: {\r\n    name: \"Atlantic Salmon\",\r\n    image: \"/images/salmon.jpg\",\r\n    desc:\r\n      \"This flaky, oily salmon is truly the king of the sea. Bake it, grill it, broil it...as good as it gets!\",\r\n    price: 1453,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish7: {\r\n    name: \"Oysters\",\r\n    image: \"/images/oysters.jpg\",\r\n    desc: \"A soft plump oyster with a sweet salty flavor and a clean finish.\",\r\n    price: 2543,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish8: {\r\n    name: \"Mussels\",\r\n    image: \"/images/mussels.jpg\",\r\n    desc:\r\n      \"The best mussels from the Pacific Northwest with a full-flavored and complex taste.\",\r\n    price: 425,\r\n    status: \"available\"\r\n  },\r\n\r\n  fish9: {\r\n    name: \"Jumbo Prawns\",\r\n    image: \"/images/prawns.jpg\",\r\n    desc:\r\n      \"With 21-25 two bite prawns in each pound, these sweet morsels are perfect for shish-kabobs.\",\r\n    price: 2250,\r\n    status: \"available\"\r\n  }\r\n};\r\n\r\nexport default fishes;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Header from './Header';\r\nimport Order from './Order';\r\nimport Inventory from './Inventory';\r\nimport Fish from './Fish';\r\nimport sampleFishes from '../sample-fishes';\r\nimport base from '../base';\r\n\r\nclass App extends React.Component {\r\n\tconstructor()  {\r\n\t\tsuper();\r\n\t\tthis.addFish = this.addFish.bind(this);\r\n\t\tthis.updateFish = this.updateFish.bind(this);\r\n\t\tthis.removeFish = this.removeFish.bind(this);\r\n\t\tthis.loadSamples = this.loadSamples.bind(this);\r\n\t\tthis.addToOrder = this.addToOrder.bind(this);\r\n\t\tthis.removeFromOrder = this.removeFromOrder.bind(this);\r\n\t\t// initial state / getInitialState()\r\n\t\tthis.state = {\r\n\t\t\tfishes: {},\r\n\t\t\torder: {},\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\t// this runs right before <App> is rendered\r\n\t\t// hooking into firebase\r\n\t\tthis.ref = base.syncState(`${this.props.match.params.storeId}/fishes`, {\r\n\t\t\tcontext: this,\r\n\t\t\tstate: 'fishes',\r\n\t\t});\r\n\t\t// hooking into localstorage\r\n\t\t// check if there's any order in localstorage\r\n\t\tconst localStorageRef = localStorage.getItem(`order-${this.props.match.params.storeId}`)\r\n\t\tif(localStorageRef) {\r\n\t\t\t// update App component\r\n\t\t\tthis.setState({\r\n\t\t\t\torder: JSON.parse(localStorageRef)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tbase.removeBinding(this.ref);\r\n\t}\r\n\r\n\tcomponentWillUpdate(nextProps, nextState) {\r\n\t\tlocalStorage.setItem(\r\n\t\t\t`order-${this.props.match.params.storeId}`, JSON.stringify(nextState.order)\r\n\t\t);\r\n\t}\r\n\r\n\taddFish(fish) {\r\n\t\t// take copy of state\r\n\t\t// this.state.fishes.fish1 = fish;\r\n\t\tconst fishes = {...this.state.fishes};\r\n\t\t// add fish\r\n\t\tconst timestamp = Date.now();\r\n\t\tfishes[`fish-${timestamp}`] = fish;\r\n\t\t// set state\r\n\t\tthis.setState({ fishes });\r\n\t}\r\n\r\n\tupdateFish(key, updatedFish) {\r\n\t\tconst fishes = {...this.state.fishes};\r\n\t\tfishes[key] = updatedFish;\r\n\t\tthis.setState({ fishes });\r\n\t}\r\n\r\n\tremoveFish(key) {\r\n\t\tconst fishes = {...this.state.fishes}\r\n\t\tfishes[key] = null;\r\n\t\tthis.setState({ fishes });\r\n\t}\r\n\r\n\tloadSamples() {\r\n\t\tthis.setState({\r\n\t\t\tfishes: sampleFishes\r\n\t\t});\r\n\t}\r\n\r\n\taddToOrder(key) {\r\n\t\t// take copy of state\r\n\t\tconst order = {...this.state.order};\r\n\t\t// update or add new number of fish ordered\r\n\t\torder[key] = order[key] + 1 || 1;\r\n\t\t// set state\r\n\t\tthis.setState({ order });\r\n\t}\r\n\r\n\tremoveFromOrder(key) {\r\n\t\tconst order = {...this.state.order};\r\n\t\t// order[key] = 0;\r\n\t\t// can use delete since we're not bound by firebase\r\n\t\tdelete order[key];\r\n\t\tthis.setState({ order });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"catch-of-the-day\">\r\n\t\t\t\t<div className=\"menu\">\r\n\t\t\t\t\t<Header tagline=\"Fresh seafood market\"/>\r\n\t\t\t\t\t<ul className=\"list-of-fishes\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tObject\r\n\t\t\t\t\t\t\t\t.keys(this.state.fishes)\r\n\t\t\t\t\t\t\t\t.map(key => <Fish key={key} index={key} details={this.state.fishes[key]} addToOrder={this.addToOrder}/>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Order\r\n\t\t\t\t\tfishes={this.state.fishes}\r\n\t\t\t\t\torder={this.state.order}\r\n\t\t\t\t\tparams={this.props.match.params}\r\n\t\t\t\t\tremoveFromOrder={this.removeFromOrder}\r\n\t\t\t\t/>\r\n\t\t\t\t<Inventory\r\n\t\t\t\t\taddFish={this.addFish}\r\n\t\t\t\t\tupdateFish={this.updateFish}\r\n\t\t\t\t\tremoveFish={this.removeFish}\r\n\t\t\t\t\tloadSamples={this.loadSamples}\r\n\t\t\t\t\tfishes={this.state.fishes}\r\n\t\t\t\t\tstoreId={this.props.match.params.storeId}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nApp.propTypes = {\r\n\tmatch: PropTypes.object.isRequired\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport { getFunName } from '../helpers';\r\n\r\nclass StorePicker extends React.Component {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.goToStore = this.goToStore.bind(this);\r\n\t}\r\n\t\r\n\tgoToStore(event) {\r\n\t\tevent.preventDefault();  // which is refresing the page with ? / stopping the form from submitting\r\n\t\tconst storeId = this.storeInput.value;\r\n\t\tconsole.log(`You are going to store ${storeId}.`);\r\n\t\tthis.props.history.push(`/store/${storeId}`);  // new way to route!\r\n\t}\r\n\r\n\trender() {  // jsx follows. can only return one parent element\r\n\t\treturn (\r\n\t\t\t// <form className=\"store-selector\" onSubmit={this.goToStore.bind(this)}>\r\n\t\t\t<form className=\"store-selector\" onSubmit={this.goToStore}>\r\n\t\t\t\t<h2>Please enter a store</h2>\r\n\t\t\t\t<input type=\"text\" required placeholder=\"Store Name\" defaultValue={getFunName()} ref={(input) => {this.storeInput = input}} />\r\n\t\t\t\t<button type=\"submit\">Visit Store -></button>\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default StorePicker;\r\n","import React from 'react';\r\n\r\nclass NotFound extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<h2>Not Found!!</h2>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport './css/style.css';\r\n\r\nimport App from './components/App';\r\nimport StorePicker from './components/StorePicker';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst repo = `${window.location.pathname.split('/')[1]}`;\r\n\r\nconst Root = () => {\r\n\treturn (\r\n\t\t<BrowserRouter basename=\"/divy-catch-of-the-day/\">\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/\" component={StorePicker}/>\r\n\t\t\t\t<Route path=\"/store/:storeId\" component={App}/>\r\n\t\t\t\t<Route component={NotFound}/>\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t)\r\n}\r\n\r\nrender(<Root/>, document.querySelector(\"#main\"));"],"sourceRoot":""}